trigger: none
pool: linux-pool
 
variables:
  appName: 'JavaLoginShowcase'
  warFileName: 'JavaLoginShowcase.war'
  artifactName: 'drop'
  jdkVersion: '1.8'         # 1.8 / 11 / 17 jo chahiye
  tomcatHome: '/opt/tomcat' # apne server ka TOMCAT_HOME yaha daalo
  deployFolder: '/opt/tomcat/deploy'  # temp folder jaha WAR copy hoga
 
stages:
  - stage: 
    displayName: build wali stage
    jobs:
      - job: 
        displayName: build wali job
        steps:
        - task: Bash@3
          inputs:
            targetType: 'inline'
            script: |
              cd $(System.DefaultWorkingDirectory)
              mvn clean package
              sudo cp -r $(System.DefaultWorkingDirectory)/target/* /opt/tomcat/webapps
              sudo systemctl restart tomcat
   


